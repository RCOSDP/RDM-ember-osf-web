<div local-class='build_console'>
    <BsAlert
        @type='danger'
        @dismissible={{false}}
        @visible={{this.notAuthorized}}
        local-class='BinderHub__connection_alert'
    >
        {{t 'binderhub.error.binderhub_auth_error'}}
        <button
            data-test-authorize-binderhub
            type='button'
            class='btn btn-danger'
            {{action this.authorize}}
        >
            {{t 'binderhub.error.reconnect_binderhub'}}
        </button>
    </BsAlert>
    <div local-class='build_console_button'>
        {{#if this.buildPhase}}
            <div local-class='build_status'>
                <OsfButton
                   @type='link'
                   @onClick={{action (mut this.buildStatusOpen) (not this.buildStatusOpen)}}
                >
                    {{#if this.buildStatusOpen}}
                        {{fa-icon 'caret-down'}}
                    {{else}}
                        {{fa-icon 'caret-right'}}
                    {{/if}}
                </OsfButton>
                {{t 'binderhub.build.status'}}
            </div>
        {{else}}
            <div local-class='build_status'>
                {{t 'binderhub.build.launch'}}
            </div>
        {{/if}}
        {{#if this.buildPhase}}
            <div local-class='build_phase'>
                {{this.buildPhase}}
            </div>
        {{/if}}
        <select
            local-class='binderhub_selector'
            data-test-binderhub-selection
            onchange={{action this.binderhubChanged value='target.value'}}
        >
            {{#each this.selectableBinderhubs as |item|}}
                <option
                    data-test-binderhub-selection-option
                    selected={{if (eq this.defaultBinderhubUrl item.binderhub_url) 'selected'}}
                    value='{{item.binderhub_url}}'>
                    {{item.name}}
                </option>
            {{/each}}
        </select>
        <div local-class='launch_buttons'>
            <GuidNode::Binderhub::-Components::LaunchButtons
                @binderHubConfig={{this.binderHubConfig}}
                @onClick={{action this.launch}}
            />
        </div>
    </div>
    {{#if (and this.buildStatusOpen this.buildLogVisible)}}
        <div local-class='build_terminal' id='binderhub-build-terminal'>
            <pre>{{this.buildLogLinesHTML}}</pre>
        </div>
    {{/if}}
</div>
